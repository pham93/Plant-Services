#:kivy 1.0

##Create a button template called MenuButton
<MenuButton@Button>:
	font_size: '15sp'
	size_hint: (.25, .2)
	color: 0,1,0,1
	background_color: 1,0,1,1

<Manager>:
	id: sm
	MenuScreen:
		id: menu_screen
		name: 'menu'
		manager: sm
	SettingsScreen:
		id: settings_screen
		name: 'settings'
		manager: sm
	SearchScreen:
		id: search_screen
		name: 'search'
		manager: sm

<MenuScreen>:
	BoxLayout:
		orientation: 'vertical'
		Label:
			text: 'Ioowana Eat'
			font_size: 20
##we can nest layouts
		FloatLayout:
##MenuButton template
			MenuButton:
##Float layout lets us postition widgets where we want: use pos_hint to keep things relative to paraent widget
##Change the center_x and centery_y values to see the effect
				pos_hint: {'center_x':.1, 'center_y': .5}
				text: 'Search'
				on_press: root.search()
			MenuButton:
				pos_hint: {'center_x':.5, 'center_y':.5}
				text: 'Settings'
				on_press: root.settings()
			MenuButton:
				pos_hint: {'center_x':.9, 'center_y':.5}
				text: 'Exit'
				on_press: root.exit()

<SettingsScreen>:
	BoxLayout:
##specify orientation to have widgets stack up down if vertical or stack right left if horizontal
		orientation: 'vertical'
		Label:
			text: 'This is the settings screen. The orientation is vertical so things stack on top of each other'
		Button:
			text: 'Menu'
			on_press: root.menu()

<SearchScreen>:
	BoxLayout:
		orientation: 'vertical'
		padding: 15
		GridLayout:
			cols: 2
			Label:
				text: 'Search Here'
			TextInput:
				id: search_info
				hint_text: 'Search by name, color, etc..'
				text: ''
		Label:
			id: results_view
			text: root.results

		BoxLayout:
			orientation: 'horizontal'
##this button calls the api 
			Button:
				id: search_btn
				text: 'This button will call the api'
				on_press: root.search_btn_press()

			Button:
				text: 'Menu'
				on_press: root.menu()
